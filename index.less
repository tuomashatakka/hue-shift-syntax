@import (reference) "styles/syntax-variables";
@import (reference) "styles/mixins";

@import "styles/base";
@import "styles/editor";
@import "styles/preview";
@import "styles/decorations";

@import "styles/punctuation";
@import "styles/text";
@import "styles/storage";
@import "styles/entities";
@import "styles/grammars/markdown";
@import "styles/grammars/html";
@import "styles/grammars/css";

@import "styles/package/linter";
// @import 'fixtures/default';


.comment() {
  --color: @comment }
.text() {
  --color: @instance }
.string() {
  --color: @string;
  &.vivid { .variant(vivid, @string) }}
.regex() {
  --color: @regex }

.error() {
  --color: @syntax-color-removed }

.keyword() { .color.tertiary.half }
.storage() { .color.tertiary.half }
.storage.subtle { .color.tertiary.quarter }

.class() {
  .color.primary }
.variable() {
  .color.secondary;
  &.assignment { .color.secondary.half.lighter }}

.definition() {
  .color.tertiary;
  &.pre { .color.tertiary.variant.darker } // [export default] functiom fname args
  &.keyword { .color.tertiary.variant.dark } // [function] fname args
  &.name { .color.tertiary.variant.light } // function [fname] args
  &.arguments { .color.tertiary.variant.dark } // function fname [args]
  &.call { .color.tertiary.quarter } // [fname](args)
  &.call.arguments { .color.tertiary.half } // fname[(args)]
}

.entity() {
  .color.tertiary.variant.lighter }
.instance() {
  .color.primary.variant.light }

// Delimiters & punctuation
.delim() {
  --color: inherit;
  opacity: 0.5; }

.apply(@clas, @color) {
  @selector: ~".syntax--@{clas}";
  @{selector} {     --color: @color }}

// Color application
[class*='syntax--'] {
  // mix-blend-mode: screen;
  color: var(--color) }

// Mini editor
atom-text-editor[mini] .scroll-view {
  padding-left: 1px;
}
atom-text-editor {
  // Structure
  // text-shadow: 0 0 4px var(--background-color);
  // Blending
  // text-shadow: 0 0 1px var(--text-color), 0 0 2px var(--background-color);
  // -webkit-filter: blur(0.15px);
  // -webkit-font-smoothing: antialiased;
}
